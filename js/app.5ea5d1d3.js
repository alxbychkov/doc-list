(function(e){function t(t){for(var i,n,s=t[0],r=t[1],o=t[2],d=0,b=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&b.push(c[n][0]),c[n]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);u&&u(t);while(b.length)b.shift()();return l.push.apply(l,o||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],i=!0,s=1;s<a.length;s++){var r=a[s];0!==c[r]&&(i=!1)}i&&(l.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},c={app:0},l=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/doc-list/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=t,s=s.slice();for(var o=0;o<s.length;o++)t(s[o]);var u=r;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0e20":function(e,t,a){"use strict";a("226b")},"226b":function(e,t,a){},"4ffb":function(e){e.exports=JSON.parse('{"CATEGORIES":[{"id":"1117","title":"Обязательные для всех","types":["pink","yellow","orange"],"description":"Документы, обязательные для всех сотрудников без исключения","list":[{"id":"3687","title":"Паспорт","types":["sky"],"format":"Обязательный","description":"Для всех"},{"id":"4658","title":"Инн","types":[],"format":"Обязательный","description":"Для всех"}]},{"id":"9889","title":"Обязательные для трудоустройства","types":[],"description":"Документы, без которых невозможно трудоустройство человека на какую бы то ни было должность в компании вне ависимости от граж","list":[]},{"id":"0665","title":"Специальные","types":[],"description":"","list":[]}],"LIST":[{"id":"7183","title":"Тестовое задание кандидата","types":[],"format":"","description":"Россия, Белоруссия, Украина, администратор филиала, повар-сушист, повар-пиццмейкер, повар горячего цеха"},{"id":"9764","title":"Трудовой договор","types":["blue","grey"],"format":"","description":""},{"id":"2372","title":"Мед. книжка","types":[],"format":"","description":""}]}')},"56d7":function(e,t,a){"use strict";a.r(t);var i=a("7a23"),c=(a("7d05"),a("a1e9")),l=a("5c40");const n={class:"header"},s=Object(i["g"])('<div class="header-title" data-v-3c3bc7f9>Документы</div><div class="header-action" data-v-3c3bc7f9><button class="action-btn action-bookmark" data-v-3c3bc7f9></button><button class="action-btn action-type action-btn-plus" data-v-3c3bc7f9>Новый тип</button><button class="action-btn action-doc action-btn-plus" data-v-3c3bc7f9>Новый документ</button></div>',2),r=[s];function o(e,t){return Object(i["j"])(),Object(i["e"])("header",n,r)}a("6bfd");var u=a("6b0d"),d=a.n(u);const b={},p=d()(b,[["render",o],["__scopeId","data-v-3c3bc7f9"]]);var j=p;const O={for:"search",class:"label-search search-icon"},f=["value"];var v={name:"Search",props:{modelValue:String},emits:["update:modelValue"],setup(e,{emit:t}){const a=e=>{t("update:modelValue",e.target.value)},c=()=>{t("update:modelValue","")};return(t,l)=>(Object(i["j"])(),Object(i["e"])("label",O,[Object(i["f"])("input",{type:"text",placeholder:"Поиск",id:"search",class:"search-input",value:e.modelValue,onInput:a},null,40,f),Object(i["s"])(Object(i["f"])("i",{class:"cross-icon",onClick:c},null,512),[[i["q"],e.modelValue]])]))}};a("0e20");const m=d()(v,[["__scopeId","data-v-e7846d1e"]]);var g=m;const h=["draggable"],y={key:0,class:"list-color"},D={key:1,class:"list-description"},k={class:"list-action"},w=Object(i["f"])("i",{class:"action-edit"},null,-1),x=Object(i["f"])("i",{class:"action-delete"},null,-1),S=["onClick"];var C={name:"ListItem",props:{item:Object,search:String},setup(e){const t=Object(c["m"])(!1),a=Object(c["m"])(!1),l=()=>{a.value=!a.value,a.value&&(t.value=!1)},n=()=>{t.value=!t.value,t.value&&(a.value=!1)};return(c,s)=>(Object(i["j"])(),Object(i["e"])("li",{draggable:t.value},[Object(i["f"])("div",{class:Object(i["i"])({"category-list-item":e.item.list,"list-item":!e.item.list,empty:!e.item.list||!e.item.list.length,open:e.search||a.value}),onClick:l},[Object(i["f"])("span",{class:Object(i["i"])({"category-list-title":e.item.list,"list-title":!e.item.list})},Object(i["o"])(e.item.title),3),e.item.types.length?(Object(i["j"])(),Object(i["e"])("span",y,[(Object(i["j"])(!0),Object(i["e"])(i["a"],null,Object(i["m"])(e.item.types,e=>(Object(i["j"])(),Object(i["e"])("i",{class:Object(i["i"])(["circle",e]),key:e},null,2))),128))])):Object(i["d"])("",!0),e.item.description?(Object(i["j"])(),Object(i["e"])("span",D,Object(i["o"])(e.item.description),1)):Object(i["d"])("",!0),Object(i["f"])("span",k,[w,x,Object(i["f"])("i",{class:"action-move",onClick:Object(i["t"])(n,["stop"])},null,8,S)])],2),Object(i["n"])(c.$slots,"default")],8,h))}};const T=C;var _=T,L=a("4ffb");const V={class:"main"},I={class:"main-top"},P={class:"main-body"},E={key:0,class:"sub-list-item"},J=["onDrop"];var A={name:"Documents",setup(e){const t=Object(c["m"])(L.CATEGORIES),a=Object(c["m"])(L.LIST),n=Object(c["m"])(""),s=Object(c["m"])(""),r=Object(c["m"])(""),o=Object(l["e"])(()=>a.value.filter(e=>~e.title.toLowerCase().indexOf(n.value.toLowerCase()))),u=Object(l["e"])(()=>t.value.filter(e=>~e.title.toLowerCase().indexOf(n.value.toLowerCase())||e.list.filter(e=>~e.title.toLowerCase().indexOf(n.value.toLowerCase())).length?e:void 0)),d=(e,t,a)=>{s.value=t,e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("item",JSON.stringify(t)),e.dataTransfer.setData("name",a)},b=(e,i)=>{const c=e.dataTransfer.getData("item"),l=e.dataTransfer.getData("name"),n=JSON.parse(c);if(i.find(e=>e.id===n.id)){const e=i.map(e=>e.id);n.id&&r.value&&([i[e.indexOf(n.id)],i[e.indexOf(r.value)]]=[i[e.indexOf(r.value)],i[e.indexOf(n.id)]])}else{const e=!!i.filter(e=>e.list).length,c=!!n.list;switch(l){case"categories":e&&(t.value=t.value.filter(e=>e.id!==n.id),a.value.push(n));break;case"list":if(c)a.value=a.value.filter(e=>e.id!==n.id),t.value.push(n);else if(r.value){const e=i.map(e=>e.id),c=e.indexOf(r.value)+1,l=t.value.map((e,t)=>({index:t,ci:e.list.map(e=>e.id)}));let s;l.find(e=>e.ci.includes(n.id))?(s=l.find(e=>e.ci.includes(n.id)).index,a.value.splice(c,0,n),t.value[s].list=t.value[s].list.filter(e=>e.id!==n.id)):(s=l.find(e=>e.ci.includes(r.value)).index,t.value[s].list.splice(c,0,n),a.value=a.value.filter(e=>e.id!==n.id))}break}}r.value=""},p=e=>{const t=!!e.list,a=!!s.value.list;s.value.id!==e.id&&t===a?r.value!==e.id&&(r.value=e.id):r.value=""};return(e,c)=>(Object(i["j"])(),Object(i["e"])(i["a"],null,[Object(i["h"])(j),Object(i["f"])("main",V,[Object(i["f"])("div",I,[Object(i["h"])(g,{modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=e=>n.value=e)},null,8,["modelValue"])]),Object(i["f"])("div",P,[Object(i["f"])("ul",{class:"category-list list",onDrop:c[3]||(c[3]=e=>b(e,t.value)),onDragenter:c[4]||(c[4]=Object(i["t"])(()=>{},["prevent"])),onDragover:c[5]||(c[5]=Object(i["t"])(()=>{},["prevent"]))},[(Object(i["j"])(!0),Object(i["e"])(i["a"],null,Object(i["m"])(Object(i["p"])(u),e=>(Object(i["j"])(),Object(i["c"])(_,{class:Object(i["i"])({"drop-area":r.value===e.id}),item:e,search:n.value,key:e.id,onDragstart:Object(i["t"])(t=>d(t,e,"categories"),["stop"]),onDragenter:Object(i["t"])(t=>p(e),["stop"])},{default:Object(i["r"])(()=>[e.list&&e.list.length?(Object(i["j"])(),Object(i["e"])("div",E,[Object(i["f"])("ul",{class:"list",onDrop:Object(i["t"])(t=>b(t,e.list),["stop"]),onDragenter:c[1]||(c[1]=Object(i["t"])(()=>{},["prevent"])),onDragover:c[2]||(c[2]=Object(i["t"])(()=>{},["prevent"]))},[(Object(i["j"])(!0),Object(i["e"])(i["a"],null,Object(i["m"])(e.list,e=>(Object(i["j"])(),Object(i["c"])(_,{class:Object(i["i"])({"drop-area":r.value===e.id}),item:e,search:n.value,key:e.id,onDragstart:Object(i["t"])(t=>d(t,e,"list"),["stop"]),onDragenter:Object(i["t"])(t=>p(e),["stop"])},null,8,["class","item","search","onDragstart","onDragenter"]))),128))],40,J)])):Object(i["d"])("",!0)]),_:2},1032,["class","item","search","onDragstart","onDragenter"]))),128))],32),Object(i["f"])("ul",{class:"list",onDrop:c[6]||(c[6]=e=>b(e,a.value)),onDragenter:c[7]||(c[7]=Object(i["t"])(()=>{},["prevent"])),onDragover:c[8]||(c[8]=Object(i["t"])(()=>{},["prevent"]))},[(Object(i["j"])(!0),Object(i["e"])(i["a"],null,Object(i["m"])(Object(i["p"])(o),e=>(Object(i["j"])(),Object(i["c"])(_,{class:Object(i["i"])({"drop-area":r.value===e.id}),item:e,search:n.value,key:e.id,onDragstart:t=>d(t,e,"list"),onDragenter:t=>p(e)},null,8,["class","item","search","onDragstart","onDragenter"]))),128))],32)])])],64))}};const M=A;var N=M,G={name:"App",setup(e){return(e,t)=>(Object(i["j"])(),Object(i["c"])(N))}};const R=G;var q=R;Object(i["b"])(q).mount("#app")},"6bfd":function(e,t,a){"use strict";a("df63")},"7d05":function(e,t,a){},df63:function(e,t,a){}});
//# sourceMappingURL=app.5ea5d1d3.js.map